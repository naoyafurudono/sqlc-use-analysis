# SQLC Use Analysis - Design Documentation

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€sqlc-use-analysisãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

### ğŸ¯ **åŸºæœ¬ä»•æ§˜ãƒ»è¦ä»¶**
- **[spec.md](spec.md)** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸºæœ¬ä»•æ§˜ã¨è¦ä»¶å®šç¾©ï¼ˆæ—¥æœ¬èªï¼‰
- **[README.md](../README.md)** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã¨ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰

### ğŸ—ï¸ **ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ**
- **[design.md](design.md)** - ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®ä¸­æ ¸æ–‡æ›¸ï¼ˆæ—¥æœ¬èªï¼‰
- **[integrated_design.md](integrated_design.md)** - çµ±åˆè¨­è¨ˆæ›¸ï¼ˆè‹±èªï¼‰
- **[architecture_design.md](architecture_design.md)** - ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
- **[design-improvements.md](design-improvements.md)** - ã€ŒA Philosophy of Software Designã€ã«åŸºã¥ãè¨­è¨ˆæ”¹å–„

### ğŸ”§ **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¥è¨­è¨ˆ**
- **[sql_analyzer_design.md](sql_analyzer_design.md)** - SQLè§£æãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è©³ç´°è¨­è¨ˆ
- **[go_analyzer_design.md](go_analyzer_design.md)** - Goé™çš„è§£æãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è¨­è¨ˆ
- **[dependency_mapper_design.md](dependency_mapper_design.md)** - ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ”ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã®è¨­è¨ˆ
- **[io_interface_design.md](io_interface_design.md)** - å…¥å‡ºåŠ›ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¨­è¨ˆ
- **[config_management_design.md](config_management_design.md)** - è¨­å®šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆ
- **[error_handling_policy.md](error_handling_policy.md)** - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ–¹é‡ã¨å®Ÿè£…

### ğŸ“… **é–‹ç™ºè¨ˆç”»ãƒ»ç®¡ç†**
- **[development_plan.md](development_plan.md)** - 13é€±é–“ã®é–‹ç™ºè¨ˆç”»ã¨ãƒ•ã‚§ãƒ¼ã‚ºç®¡ç†
- **[detailed_milestones.md](detailed_milestones.md)** - è©³ç´°ãªãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã¨ã‚¿ã‚¹ã‚¯åˆ†è§£
- **[development_environment.md](development_environment.md)** - é–‹ç™ºç’°å¢ƒã®è¨­å®šã¨ãƒ„ãƒ¼ãƒ«æ§‹æˆ
- **[risk_analysis.md](risk_analysis.md)** - ãƒªã‚¹ã‚¯åˆ†æã¨ç·©å’Œç­–

## ğŸ¯ **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½¿ã„æ–¹**

### ğŸ”° **åˆã‚ã¦ã®æ–¹**
1. **[spec.md](spec.md)** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„ã¨è¦ä»¶ã‚’ç†è§£
2. **[design.md](design.md)** - ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®åŸºæœ¬æ¦‚å¿µã‚’æŠŠæ¡
3. **[development_plan.md](development_plan.md)** - é–‹ç™ºã®é€²æ—ã¨è¨ˆç”»ã‚’ç¢ºèª

### ğŸ—ï¸ **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç†è§£ã—ãŸã„æ–¹**
1. **[architecture_design.md](architecture_design.md)** - ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æ§‹é€ 
2. **[integrated_design.md](integrated_design.md)** - çµ±åˆè¨­è¨ˆã®è©³ç´°
3. **[design-improvements.md](design-improvements.md)** - æœ€æ–°ã®è¨­è¨ˆæ”¹å–„

### ğŸ”§ **å®Ÿè£…ã‚’ç†è§£ã—ãŸã„æ–¹**
1. **[sql_analyzer_design.md](sql_analyzer_design.md)** - SQLè§£æã®ä»•çµ„ã¿
2. **[go_analyzer_design.md](go_analyzer_design.md)** - Goè§£æã®ä»•çµ„ã¿
3. **[dependency_mapper_design.md](dependency_mapper_design.md)** - ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ”ãƒ³ã‚°ã®ä»•çµ„ã¿

### ğŸ“Š **é–‹ç™ºç®¡ç†ã‚’ç†è§£ã—ãŸã„æ–¹**
1. **[development_plan.md](development_plan.md)** - é–‹ç™ºè¨ˆç”»ã®å…¨ä½“åƒ
2. **[detailed_milestones.md](detailed_milestones.md)** - å…·ä½“çš„ãªã‚¿ã‚¹ã‚¯ã¨é€²æ—
3. **[risk_analysis.md](risk_analysis.md)** - ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

## ğŸ“ˆ **é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º**

### âœ… **å®Œäº†ãƒ•ã‚§ãƒ¼ã‚º**
- **M1: åŸºç›¤æ§‹ç¯‰** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã€CLIå®Ÿè£…ã€è¨­å®šç®¡ç†ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **M2: SQLè§£æã‚¨ãƒ³ã‚¸ãƒ³** - SQLã‚¯ã‚¨ãƒªè§£æã€ãƒ†ãƒ¼ãƒ–ãƒ«æŠ½å‡ºã€æ“ä½œç¨®åˆ¥åˆ¤å®š
- **M3: Goé™çš„è§£æå™¨** - Go ASTè§£æã€é–¢æ•°å®šç¾©æŠ½å‡ºã€ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—æ¤œå‡º
- **M4: ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ”ãƒ³ã‚°** - SQL/Goçµ±åˆã€ä¾å­˜é–¢ä¿‚æ§‹ç¯‰ã€å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

### ğŸ”„ **é€²è¡Œä¸­ãƒ»äºˆå®šãƒ•ã‚§ãƒ¼ã‚º**
- **M5: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ** - çµ±åˆãƒ†ã‚¹ãƒˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- **M6: æœ¬ç•ªå¯¾å¿œ** - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- **M7: ãƒªãƒªãƒ¼ã‚¹æº–å‚™** - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ã€ä½¿ç”¨ä¾‹ä½œæˆ

## ğŸ¨ **è¨­è¨ˆåŸå‰‡**

### ğŸ“š **ã€ŒA Philosophy of Software Designã€ã®é©ç”¨**
- **æ·±ã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**: è¤‡é›‘æ€§ã‚’éš è”½ã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **æƒ…å ±éš è”½**: å†…éƒ¨å®Ÿè£…ã®è©³ç´°ã‚’å®Œå…¨ã«éš è”½
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼åé›†ã¨å ±å‘Š
- **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ**: é–¢å¿ƒã®åˆ†é›¢ã¨è²¬ä»»ã®æ˜ç¢ºåŒ–

è©³ç´°ã¯ **[design-improvements.md](design-improvements.md)** ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ” **å“è³ªç®¡ç†**

### ğŸ§ª **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥**
- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: 90%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®æ¤œè¨¼
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: 10K+è¡Œã®ã‚³ãƒ¼ãƒ‰ã‚’5åˆ†ä»¥å†…ã§è§£æ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ**: è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³

### ğŸ“Š **ã‚³ãƒ¼ãƒ‰å“è³ª**
- **ãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°**: golangci-lintã«ã‚ˆã‚‹åŒ…æ‹¬çš„ãªãƒ«ãƒ¼ãƒ«
- **é™çš„è§£æ**: govulncheckã‚’å«ã‚€è¤‡æ•°ã®ãƒ„ãƒ¼ãƒ«
- **CI/CD**: è‡ªå‹•ãƒ†ã‚¹ãƒˆã¨ãƒ“ãƒ«ãƒ‰
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: åŒ…æ‹¬çš„ãªæŠ€è¡“æ–‡æ›¸

## ğŸ”§ **æŠ€è¡“ä»•æ§˜**

### ğŸ“¥ **å…¥åŠ›å½¢å¼**
- sqlc CodeGeneratorRequestï¼ˆJSONï¼‰
- Go ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆsqlc.yamlï¼‰

### ğŸ“¤ **å‡ºåŠ›å½¢å¼**
- JSONï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€function_viewã€table_viewï¼‰
- CSVï¼ˆè¡¨å½¢å¼ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰
- HTMLï¼ˆè¦–è¦šçš„ãªãƒ¬ãƒãƒ¼ãƒˆï¼‰

### ğŸ› ï¸ **ä¸»è¦æŠ€è¡“**
- **Go 1.21+**: ä¸»è¦å®Ÿè£…è¨€èª
- **go/packages**: Go ã‚³ãƒ¼ãƒ‰è§£æ
- **go/ast**: æŠ½è±¡æ§‹æ–‡æœ¨è§£æ
- **sqlc plugin protocol**: çµ±åˆæ–¹å¼

## ğŸ“ **ã‚µãƒãƒ¼ãƒˆ**

### ğŸ“ **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°ã‚„è¿½åŠ ãŒå¿…è¦ãªå ´åˆã¯ã€ä»¥ä¸‹ã®æ–¹é‡ã«å¾“ã£ã¦ãã ã•ã„ï¼š

1. **è¨­è¨ˆå¤‰æ›´**: å¯¾å¿œã™ã‚‹designãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°
2. **æ–°æ©Ÿèƒ½**: é–¢é€£ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆæ–‡æ›¸ã«è¿½åŠ 
3. **APIå¤‰æ›´**: integrated_design.mdã¨spec.mdã‚’æ›´æ–°
4. **ã“ã®README**: æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚ŒãŸå ´åˆã«æ›´æ–°

### ğŸ” **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ **
```
docs/
â”œâ”€â”€ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç›®æ¬¡ï¼‰
â”œâ”€â”€ spec.md                     # åŸºæœ¬ä»•æ§˜
â”œâ”€â”€ design.md                   # ä¸­æ ¸è¨­è¨ˆ
â”œâ”€â”€ integrated_design.md        # çµ±åˆè¨­è¨ˆ
â”œâ”€â”€ design-improvements.md      # è¨­è¨ˆæ”¹å–„
â”œâ”€â”€ architecture_design.md      # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”œâ”€â”€ sql_analyzer_design.md     # SQLè§£æè¨­è¨ˆ
â”œâ”€â”€ go_analyzer_design.md      # Goè§£æè¨­è¨ˆ
â”œâ”€â”€ dependency_mapper_design.md # ä¾å­˜é–¢ä¿‚è¨­è¨ˆ
â”œâ”€â”€ io_interface_design.md     # I/Oè¨­è¨ˆ
â”œâ”€â”€ config_management_design.md # è¨­å®šç®¡ç†è¨­è¨ˆ
â”œâ”€â”€ error_handling_policy.md   # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”œâ”€â”€ development_plan.md        # é–‹ç™ºè¨ˆç”»
â”œâ”€â”€ detailed_milestones.md     # è©³ç´°ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
â”œâ”€â”€ development_environment.md # é–‹ç™ºç’°å¢ƒ
â””â”€â”€ risk_analysis.md           # ãƒªã‚¹ã‚¯åˆ†æ
```

---

**æœ€çµ‚æ›´æ–°**: 2024å¹´7æœˆ11æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: M4ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†ç‰ˆ  
**ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼**: Claude Code Assistant